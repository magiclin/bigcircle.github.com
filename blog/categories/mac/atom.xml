<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: mac | Hi, I’m dayuan]]></title>
  <link href="http://Bigcircle.github.com/blog/categories/mac/atom.xml" rel="self"/>
  <link href="http://Bigcircle.github.com/"/>
  <updated>2012-08-27T18:37:18+08:00</updated>
  <id>http://Bigcircle.github.com/</id>
  <author>
    <name><![CDATA[bigcircle]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Mac设置goagent开机自启动]]></title>
    <link href="http://Bigcircle.github.com/blog/start-goagent-automatically-when-boot-in-mac.html/"/>
    <updated>2012-08-25T12:19:00+08:00</updated>
    <id>http://Bigcircle.github.com/blog/start-goagent-automatically-when-boot-in-mac</id>
    <content type="html"><![CDATA[<p>每次开机都得手动开启goagent，首先打开iTerm再输入，虽然平时很多时间都在跟终端打交道，也定义了快捷键go简单输入，但还是觉得麻烦，占了一个标签页不说，还时不时掉线，这个就无法忍了    <br />
搜索了下自动开启的方法，都是一些 linux 下的方法，比如说这两篇关键字靠前的</p>

<!--more-->

<ul>
  <li><a href="http://keating.iteye.com/blog/1463521">开机自动启动GoAgent</a></li>
  <li><a href="http://adelzhang.blogspot.com/2011/10/ubuntugoagent.html">ubuntu下goagent开机自启动</a></li>
</ul>

<p>用linux的同学可以参考下，对症下药，应该问题不大，不过这些方法在Mac下用不了，启动文件存放位置方法和linux还是有所不同的，那么有没有在Mac下自启动的简单方法呢，答案当然是有的，过程也不复杂                                   <br />
用过 <a href="http://mxcl.github.com/homebrew/">Homebrew</a> (Mac下的一个包管理器) 的同学都会觉得这个工具很方便，相当于linux上的apt-get和yum，方便大家下载安装各种需要很多依赖的东西，可能有时候依赖包还不是很完善，但是差不多已经取代Macports成为Mac上最好用的包管理器了，没有用的建议装一个(和port只能2选1)</p>

<p>如果你安装过mysql/mongo这类可以有开机启动项的软件，在安装完之后会有一大堆提示，比如这样</p>

<p>```c
To launch on startup:
* if this is your first install:
mkdir -p ~/Library/LaunchAgents
cp /usr/local/Cellar/mysql/5.5.25a/homebrew.mxcl.mysql.plist ~/Library/LaunchAgents/
launchctl load -w ~/Library/LaunchAgents/homebrew.mxcl.mysql.plist</p>

<ul>
  <li>if this is an upgrade and you already have the homebrew.mxcl.mysql.plist loaded:
launchctl unload -w ~/Library/LaunchAgents/homebrew.mxcl.mysql.plist
cp /usr/local/Cellar/mysql/5.5.25a/homebrew.mxcl.mysql.plist ~/Library/LaunchAgents/
launchctl load -w ~/Library/LaunchAgents/homebrew.mxcl.mysql.plist</li>
</ul>

<p>You may also need to edit the plist to use the correct “UserName”.
```</p>

<p>这个就是提示你怎么设置开机启动，brew已经预先把启动文件都写好了，你只需要copy过去，设置启动就Ok了。~/Library/LaunchAgents 下存放用户登陆之后的启动服务，具体补课可以参考 <a href="http://kenwublog.com/mac-os-launchd-tuning">这篇</a>  <br />
有人做了个dmg包和goagent源码配合使用，把那个app设置为开机启动也很方便，位于 <code>系统偏好设置 &gt; 用户与群组 &gt; 登陆项</code> 参考 <a href="http://dharmasong.net/2011/11/449.html">这</a>，这个应该是不爱折腾的最简单的方法</p>

<p>下面开始小折腾的方法，也很简单</p>

<ul>
  <li>新建一个plist文件，比如说叫 com.google.goagent.plist，输入以下内容</li>
</ul>

<p><div><script src='https://gist.github.com/3461688.js?file=com.google.goagent.plist'></script>
<noscript><pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;
&lt;plist version=&quot;1.0&quot;&gt;
&lt;dict&gt;
  &lt;key&gt;Label&lt;/key&gt;
  &lt;string&gt;com.google.goagent&lt;/string&gt;
  &lt;key&gt;ProgramArguments&lt;/key&gt;
  &lt;array&gt;
    &lt;string&gt;/usr/local/python&lt;/string&gt;
    &lt;string&gt;/Users/yourname/goagent/local/proxy.py&lt;/string&gt;
  &lt;/array&gt;
  &lt;key&gt;RunAtLoad&lt;/key&gt;
  &lt;true/&gt;
  &lt;key&gt;KeepAlive&lt;/key&gt;
  &lt;true/&gt;
  &lt;UserName&gt;dayuan&lt;/UserName&gt;
  &lt;key&gt;WorkingDirectory&lt;/key&gt;
  &lt;string&gt;/Users/yourname/goagent/local&lt;/string&gt;
&lt;/dict&gt;
&lt;/plist&gt;
</code></pre></noscript></div>
</p>

<p>代码很简单，书写要规范。设置RunAtLoad和KeepAlive为true，试用了一天感觉良好</p>

<ul>
  <li>接下来敲几个字就over了</li>
</ul>

<p><code>c
	cp com.google.goagent.plist ~/Library/LaunchAgents
	launchctl load -w ~/Library/LaunchAgents/com.google.goagent.plist
</code></p>

<p>这样下次开机的时候goagent就已经自动启动了，总结起来就是三步: <br />
写一个启动文件 —— copy到对应目录 —— 设为启动</p>

<p>默认开启8087端口</p>

<p><code>c
lsof -i:8087
Python xxxxxx TCP localhost:8087 (LISTEN)
</code>
用Chrome或者Firefox用proxy switch已经配置好的同学可以直接打开敏感词测试啦</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Mac升级内存手记，高清大图(12P)]]></title>
    <link href="http://Bigcircle.github.com/blog/modify-mac-to-8g-memory.html/"/>
    <updated>2012-08-21T20:58:00+08:00</updated>
    <id>http://Bigcircle.github.com/blog/modify-mac-to-8g-memory</id>
    <content type="html"><![CDATA[<p>月初新入手Mac 2012新款 <a href="http://store.apple.com/cn/browse/home/shop_mac/family/macbook_pro/select">MD103</a> 作为未来N年主力开发机，虽说新版 Retina 屏是极好的，无奈同时极好的价格，还是下次吧。(可恨的同学在第二天就入手了视网膜版，羡慕嫉妒恨啊！)<br />
主要是已经习惯Mac开发的便捷和Linux各种不爽，同时也就省了系统层面的瞎折腾，关于Mac的好处，小总结了下，有以下几点
<!--more--></p>

<ul>
  <li>系统牛X，Unix 内核，环境易搭，工具丰富 ，稳定性安全性高，开发首选</li>
  <li>外形拉轰，think different 理念，适合与众不同的人。。</li>
  <li>操作快捷，内置各种快捷键，借助 Alfred / QuickSilver 可以做到全盘快捷键</li>
  <li>装软件方便，很多dmg包打开即用，win7下很多常用软件都有原装品/替代品 </li>
  <li>待机时间长，广告号称7小时，虽说目前Mountain Lion在待机方面可能比预期的短点，但4～5个小时还是没有问题的，相对于普通pc的2个小时强太多了，相信下个补丁应该能在待机时间方面优化优化</li>
  <li>用很长时间不用重装系统，也没有处理磁盘碎片的烦恼，不用时盖上盖即可，一个月不关机是常事</li>
</ul>

<p>当然缺点也是有的，特别是对于已经习惯windows的同学来说，这里就不罗列啦。。</p>

<p>标配的内存才4G，根据一年开发经验来说肯定是不够用的，Chrome多开几个网页，终端运行几个差不多就满了，要是用Xcode这类巨占内存的东西那就什么都别开了，所以说升到8G刻不容缓。。当然16G必须是极好的，但是价格要贵很多，想想8G怎么也够了，还是一切从简吧。</p>

<p>先来张全景图，刚开包</p>

<p><img src="http://m3.img.libdd.com/farm5/90/8B1399A8265164466811344338418D5A_1280_960.jpg" alt="" /></p>

<p>内存条 4G*2 ,三星金条，据说兼容性最好，双通道的优势比 8G＊1 要好，不过差距不大，各种电商均有售，我是在京东上买的，主要是可以送到家门口。。。懒。。</p>

<p><img src="http://m2.img.libdd.com/farm5/173/50E3E8D65DCAAEB6D4B9FC5A2A6302AD_1280_960.jpg" alt="" /></p>

<p>拆机工具，45＊1 , pro 的是ph000 ,剩下的可以拆拆 iphone 什么的。。淘宝有售</p>

<p><img src="http://m3.img.libdd.com/farm4/193/4A44B3C6119B728FB8C0C0D36A1B5CC1_1280_960.jpg" alt="" /></p>

<p>开拆。背面一大踹各种认证标明不是国行，买的港版，显示 Assembled in China, 比国行便宜2k+</p>

<p><img src="http://m3.img.libdd.com/farm5/124/2FCF6C74233D9BBF6D7F5399A2CA587C_1280_960.jpg" alt="" /></p>

<p>全景图 光驱，硬盘，电池，主板，风扇，散热设计主要在尾部和键盘(键盘表面也是散热之一，所以键盘感觉到热很正常)</p>

<p><img src="http://m2.img.libdd.com/farm5/138/769D5738C7518F51008FF24EE6BD448A_1280_960.jpg" alt="" /></p>

<p>主板来张特写，精密仪器啊，密密麻麻</p>

<p><img src="http://m1.img.libdd.com/farm4/24/B1CA8203D0000DA2FEFF8F8BC7DB3B18_1280_960.jpg" alt="" /></p>

<p>拆下来的原装内存 现代牌 2G*2</p>

<p><img src="http://m1.img.libdd.com/farm5/31/BC98EDCE869C1939C46F8718487CF01F_1280_960.jpg" alt="" /></p>

<p>三星和原装对比，短了一截，当时有点吓着了，内存包装都拆了，退货都没得退。
好在除了个头不一样，规格还算一样的，插还是可以插进去的，只是比大块头费点劲</p>

<p><img src="http://m1.img.libdd.com/farm5/216/BFC0726FC23BFCDCFFABFFEE891643D8_1280_960.jpg" alt="" /></p>

<p>插完之后的特写，稍微短了一点，不过无伤大雅</p>

<p><img src="http://m3.img.libdd.com/farm4/196/F4B2D58192AD8453E14C8D2DD8A13CC4_1280_960.jpg" alt="" /></p>

<p>再次开机，显示为8G内存，证明兼容性尚可，没问题</p>

<p><img src="http://m3.img.libdd.com/farm5/197/D96443C0F518BDF817B178BC4AB9F4C5_586_268.PNG" alt="" /></p>

<p>最后来张 Logo和键盘照</p>

<p><img src="http://m1.img.libdd.com/farm5/215/31861739FCDD63D99B1DBCAC7EE8EBD7_1280_960.jpg" alt="" />
<img src="http://m3.img.libdd.com/farm4/72/2F8D4889C36D8B995B93E10654F95D48_1280_960.jpg" alt="" /></p>

<hr />

<p>本来准备同时把光驱拆了装个128G SSD，但是又要1K大洋，暂时对速度上也没有多大追求，还是等有钱了再折腾吧，有在帝都的同学想借工具可以联系我，免费借用加拆机指导哦。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[免去sudo时输入密码]]></title>
    <link href="http://Bigcircle.github.com/blog/use-sudo-without-password.html/"/>
    <updated>2012-08-20T14:16:00+08:00</updated>
    <id>http://Bigcircle.github.com/blog/use-sudo-without-password</id>
    <content type="html"><![CDATA[<p>经常敲命令的同学肯定会遇到需要root权限的问题，为了安全考虑大部分情况下千万不要在root权限下操作，否则会遇到各种难缠的问题，sudo 就是为解决这个问题产生的。</p>

<h3 id="section">为什么不想敲密码</h3>
<!-- more -->
<ul>
  <li>程序员往往都是很懒的，很多代码的产生就是为了方便懒惰的程序员</li>
  <li>输入密码很麻烦，很费时。(好吧，其实也花不了多长时间。。)</li>
  <li>能方便设置一些启动项，特别是一个项目启动项很多，为了懒就写一个启动脚本</li>
  <li>自己的系统自己用，没必要像在服务器上对权限要求那么严格</li>
  <li>当然也有忘记root密码的情况。。</li>
</ul>

<h3 id="section-1">怎么做</h3>
<p>其实很简单，只需要小修改 /etc/sudoers 这个文件就可以了。
默认情况的权限是这样的</p>

<p><code>bash
root ALL=(ALL) ALL
%admin ALL=(ALL) ALL
</code></p>

<p>意思是root用户和admin群组的用户都能执行所有命令，当然也是需要输入password的
修改如下：</p>

<p><code>
# 修改amdin组都不用输入密码
%admin ALL=(ALL) NOPASSWD: NOPASSWD ALL
# 只是想让 marine 用户输入sudo不需要密码
marine ALL=(ALL) NOPASSWD: ALL
</code></p>

<p>当然可定制丰富的权限要求，不过那样还不如不设置，统一要求输入密码得了。</p>

<h3 id="section-2">一个好用的小技巧</h3>
<p>有时候当我们输入了一大串命令后敲下去发现需要写sudo，这个时候不得不找回上个命令，然后回到命令开头，然后加上sudo空格，稍微有点麻烦，可以用以下2个小方法</p>

<p><code>
# !! 表示上次执行的命令
sudo !!
</code></p>

<p>或者用zsh的同学可以自定义个命令绑定快捷键，比如这样:</p>

<p><code>
sudo-command-line() {
  [[ -z $BUFFER ]] &amp;&amp; zle up-history
  [[ $BUFFER != sudo\ * ]] &amp;&amp; BUFFER="sudo $BUFFER"
    zle end-of-line
}
zle -N sudo-command-line
bindkey "\e\e" sudo-command-line
</code></p>

<p>定义快捷键: 连续按2个ESC自动在前面添加sudo，非常方便快捷</p>

<p>前段时间看了个介绍 <a href="http://www.commandlinefu.com/commands/browse/sort-by-votes">linux命令的网站</a>，有很多实用方便的快捷键，大家有兴趣可以去淘几个</p>
]]></content>
  </entry>
  
</feed>
